var ftp=new FTPClient();function upload(serverName,userName,password,fileName,content2save){if(serverName===""||userName===""||password===""||fileName===""||content2save===""){alert("Parameters missing or incorrect!");return;}ftp.onInitialize=onInitialize;ftp.onConnect=onConnect;ftp.onDisconnect=onDisconnect;ftp.onUploadText=onUploadText;ftp.onError=onError;ftp.remoteHost=serverName;ftp.userName=userName;ftp.password=password;setStatus("Initializing");if(!ftp.isInitialized()){ftp.initialize("js/ftp.jar",true,"DEBUG",false);}else{ftp.connect();}}function onInitialize(status){setStatus("Connecting");ftp.connect();}function onConnect(status){if(status.success){setStatus("Uploading text");ftp.uploadText(content2save,fileName);}else{setStatus("Cannot connect.");}}function onUploadText(status){if(status.success){setStatus("OK");}else{setStatus("Cannot upload.");}ftp.disconnect();}function onDisconnect(status){setStatus("Disconnected");}function onError(status){alert("Error: "+status.errorMessage);}function checkLogin(serverName,userName,password,setLoggedIn){if(serverName===""||userName===""||password===""){alert("No parameter(s)");return false;}ftp.remoteHost=serverName;ftp.userName=userName;ftp.password=password;ftp.onInitialize=onCheckInitialize;ftp.onConnect=onCheckConnect;ftp.onDisconnect=onCheckDisconnect;if(!ftp.isInitialized()){ftp.initialize("js/ftpinterface.jar",true,"DEBUG",false);}else{ftp.connect();}function onCheckConnect(status){if(status.success){ftp.disconnect();setLoggedIn(true);}else{setLoggedIn(false);}}function onCheckInitialize(status){ftp.connect();}function onCheckDisconnect(){return;}}
function setStatus(text) {
//return;
var statusText = document.getElementById("ftpstatus");
statusText.value = text;
//console.log(text);
}
