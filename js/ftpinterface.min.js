var _ftpClients=new Array();var FTPClient_sortColumn="name";var FTPClient_sortAscending=true;function FTPClient(){this._instance=_ftpClients.length;this.id=this._instance;_ftpClients[this._instance]=this;}FTPClient.prototype.WRITEMODE_OVERWRITE=0;FTPClient.prototype.WRITEMODE_RESUME=1;FTPClient.prototype.WRITEMODE_APPEND=2;FTPClient.prototype._initStarted=false;FTPClient.prototype._initComplete=false;FTPClient.prototype._isConnected=false;FTPClient.prototype._tags=[];FTPClient.prototype._instance=null;FTPClient.prototype.id=null;FTPClient.prototype.protocol=null;FTPClient.prototype.remoteHost=null;FTPClient.prototype.userName=null;FTPClient.prototype.password=null;FTPClient.prototype.initialRemoteDirectory=null;FTPClient.prototype.dateLanguages=null;FTPClient.prototype.minTransferNotifyPeriod=500;FTPClient.prototype.transferBufferSize=16384;FTPClient.prototype.transferNotifyInterval=65535;FTPClient.prototype.localSortAscending=true;FTPClient.prototype.localSortColumn="name";FTPClient.prototype.remoteSortAscending=true;FTPClient.prototype.remoteSortColumn="name";FTPClient.prototype.showSplash=false;FTPClient.prototype.splashImageURL=null;FTPClient.prototype.minPoolSize=1;FTPClient.prototype.maxPoolSize=5;FTPClient.prototype.logLevel="OFF";FTPClient.prototype.logToFile=null;FTPClient.prototype.localSeparator="\\";FTPClient.prototype.onInitialize=function(callbackStatus){};FTPClient.prototype.onConnect=function(callbackStatus){};FTPClient.prototype.onDisconnect=function(callbackStatus,reasonCode,reasonMessage){};FTPClient.prototype.onDirectoryList=function(callbackStatus,remoteDirectory,fileList){};FTPClient.prototype.onDownloadFile=function(callbackStatus,remoteFileName){};FTPClient.prototype.onDownloadText=function(callbackStatus,remoteFileName,text){};FTPClient.prototype.onUploadFile=function(callbackStatus,remoteFileName){};FTPClient.prototype.onUploadText=function(callbackStatus,remoteFileName){};FTPClient.prototype.onSize=function(callbackStatus,remoteFileName,size){};FTPClient.prototype.onModifiedTime=function(callbackStatus,remoteFileName,modTime){};FTPClient.prototype.onRename=function(callbackStatus,fromName,toName){};FTPClient.prototype.onDeleteFile=function(callbackStatus,remoteFileName){};FTPClient.prototype.onDeleteDirectory=function(callbackStatus,remoteDirectoryName){};FTPClient.prototype.onExists=function(callbackStatus,remoteFileName,exists){};FTPClient.prototype.onExecuteCommand=function(callbackStatus,command,result){};FTPClient.prototype.onChangeDirectory=function(callbackStatus,remoteDirectory){};FTPClient.prototype.onCreateDirectory=function(callbackStatus,remoteDirectory){};FTPClient.prototype.onLocalDirectoryList=function(callbackStatus,localDirectory,fileList){};FTPClient.prototype.onLocalRename=function(callbackStatus,fromName,toName){};FTPClient.prototype.onLocalDeleteFile=function(callbackStatus,remoteFileName){};FTPClient.prototype.onLocalCreateDirectory=function(callbackStatus,localDirectory){};FTPClient.prototype.onLocalSize=function(callbackStatus,localFileName,size){};FTPClient.prototype.onLocalModifiedTime=function(callbackStatus,localFileName,modTime){};FTPClient.prototype.onError=function(callbackStatus){};FTPClient.prototype.onTransferProgress=function(callbackStatus,remoteFileName,byteCount){};FTPClient.prototype.initialize=FTPClient_initialize;FTPClient.prototype.isInitialized=FTPClient_isInitialized;FTPClient.prototype.getAllLogLevels=FTPClient_getAllLogLevels;FTPClient.prototype.getLogLevel=FTPClient_getLogLevel;FTPClient.prototype.setLogLevel=FTPClient_setLogLevel;FTPClient.prototype.getConnectMode=FTPClient_getConnectMode;FTPClient.prototype.setConnectMode=FTPClient_setConnectMode;FTPClient.prototype.getTransferType=FTPClient_getTransferType;FTPClient.prototype.setTransferType=FTPClient_setTransferType;FTPClient.prototype.setTemplateURLs=FTPClient_setTemplateURLs;FTPClient.prototype.isViewCachingEnabled=FTPClient_isViewCachingEnabled;FTPClient.prototype.setViewCachingEnabled=FTPClient_setViewCachingEnabled;FTPClient.prototype.isRemoteHostValid=FTPClient_isRemoteHostValid;FTPClient.prototype.alert=FTPClient_alert;FTPClient.prototype.ask=FTPClient_ask;FTPClient.prototype.promptFile=FTPClient_promptFile;FTPClient.prototype.promptFiles=FTPClient_promptFiles;FTPClient.prototype.connect=FTPClient_connect;FTPClient.prototype.isConnected=FTPClient_isConnected;FTPClient.prototype.disconnect=FTPClient_disconnect;FTPClient.prototype.changeDirectory=FTPClient_changeDirectory;FTPClient.prototype.createDirectory=FTPClient_createDirectory;FTPClient.prototype.directoryList=FTPClient_directoryList;FTPClient.prototype.downloadFile=FTPClient_downloadFile;FTPClient.prototype.downloadText=FTPClient_downloadText;FTPClient.prototype.uploadFile=FTPClient_uploadFile;FTPClient.prototype.uploadText=FTPClient_uploadText;FTPClient.prototype.cancelTransfer=FTPClient_cancelTransfer;FTPClient.prototype.size=FTPClient_size;FTPClient.prototype.modifiedTime=FTPClient_modifiedTime;FTPClient.prototype.deleteFile=FTPClient_deleteFile;FTPClient.prototype.deleteDirectory=FTPClient_deleteDirectory;FTPClient.prototype.rename=FTPClient_rename;FTPClient.prototype.exists=FTPClient_exists;FTPClient.prototype.executeCommand=FTPClient_executeCommand;FTPClient.prototype.localDirectoryList=FTPClient_localDirectoryList;FTPClient.prototype.localDeleteFile=FTPClient_localDeleteFile;FTPClient.prototype.localRename=FTPClient_localRename;FTPClient.prototype.localCreateDirectory=FTPClient_localCreateDirectory;FTPClient.prototype.localSize=FTPClient_localSize;FTPClient.prototype.localModifiedTime=FTPClient_localModifiedTime;FTPClient.prototype.getLocalHomeDirectory=FTPClient_getLocalHomeDirectory;FTPClient.prototype.getLocalTempDirectory=FTPClient_getLocalTempDirectory;FTPClient.prototype.getLocalAcceptorPort=FTPClient_getLocalAcceptorPort;FTPClient.prototype.getRemoteAcceptorPort=FTPClient_getRemoteAcceptorPort;FTPClient.prototype.getWorkingDirectory=FTPClient_getWorkingDirectory;FTPClient.prototype.registerMimeType=FTPClient_registerMimeType;FTPClient.prototype._getAppletHTML=FTPClient__getAppletHTML;FTPClient.prototype._checkInitialization=FTPClient__checkInitialization;FTPClient.prototype._addHTML=FTPClient__addHTML;FTPClient.prototype._setTag=FTPClient__setTag;FTPClient.prototype._getTag=FTPClient__getTag;function FTPClient_initialize(jarURL,showSplash,logLevel,logToFile,minPoolSize,maxPoolSize){if(this._initStarted){return;}this._initStarted=true;if(showSplash!==undefined&&showSplash!==null){this.showSplash=showSplash;}if(logLevel!==undefined&&logLevel!==null){this.logLevel=logLevel;}if(logToFile!==undefined&&logToFile!==null){this.logToFile=logToFile;}if(minPoolSize!==undefined&&minPoolSize!==null){this.minPoolSize=minPoolSize;}if(maxPoolSize!==undefined&&maxPoolSize!==null){this.maxPoolSize=maxPoolSize;}var _info=navigator.userAgent;var _ie=(_info.indexOf("MSIE")>0&&_info.indexOf("Win")>0&&_info.indexOf("Windows 3.1")<0);var w=!this.showSplash&&_ie?0:0;var h=!this.showSplash&&_ie?0:0;var divTop=(document.body.clientHeight-w)/3;if(divTop<10){divTop=10;}var divLeft=(document.body.clientWidth-h)/2;if(divLeft<10){divLeft=10;}var appletStyle="width:"+w+"px;height:"+h+"px;";if(!_ie&&!this.showSplash){appletStyle="visibility:hidden;";}var divStyle="position:absolute;top:0px;left:0px;width:0px;height:0px";var appletParams={};if(this.showSplash!==null){appletParams.showSplash=this.showSplash;}if(this.splashImageURL!==null){appletParams.splashImageURL=this.splashImageURL;}if(this.minPoolSize!==null){appletParams.minPoolSize=this.minPoolSize;}if(this.maxPoolSize!==null){appletParams.maxPoolSize=this.maxPoolSize;}if(this.logLevel!==null){appletParams.logLevel=this.logLevel;}if(this.logToFile!==null){appletParams.logToFile=this.logToFile;}var appletHTML=this._getAppletHTML(this._instance,"com/enterprisedt/net/ftp/applet/FTPApplet.class",jarURL,appletParams,appletStyle);this._addHTML(document,"<div style='"+divStyle+"'>"+appletHTML+"</div>");}function FTPClient__getAppletHTML(appletName,classFile,jarURL,appletParams,appletStyle){var appletHTML="";var _info=navigator.userAgent;var _ie=(_info.indexOf("MSIE")>0&&_info.indexOf("Win")>0&&_info.indexOf("Windows 3.1")<0);var _ns=(navigator.appName.indexOf("Netscape")>=0&&((_info.indexOf("Win")>0&&_info.indexOf("Win16")<0)||(_info.indexOf("Sun")>0)||(_info.indexOf("Linux")>0)||(_info.indexOf("AIX")>0)||(_info.indexOf("OS/2")>0)||(_info.indexOf("IRIX")>0)));var _ns6=((_ns==true)&&(_info.indexOf("Mozilla/5")>=0));if(_ie==true&&!navigator.javaEnabled()){appletHTML+="<object \n";appletHTML+="    style='"+appletStyle+"'";appletHTML+="    classid = 'clsid:8AD9C840-044E-11D1-B3E9-00805F499D93'\n";appletHTML+="    codebase = 'http://java.sun.com/update/1.6.0/jinstall-6-windows-i586.cab'\n";appletHTML+="    id = '"+appletName+"' >\n";appletHTML+="    	<param name=code value='"+classFile+"' >\n";appletHTML+="    	<param name=archive value='"+jarURL+"' >\n";appletHTML+="    	<param name=id value='"+appletName+"' >\n";appletHTML+="    	<param name=mayscript value='true' >\n";appletHTML+="    	<param name=type value='application/x-java-applet;version=1.6'>\n";appletHTML+="    	<param name=scriptable value='true'>\n";for(var p in appletParams){appletHTML+="    	<param name="+p+" value='"+appletParams[p]+"'>\n";}appletHTML+="</object>\n";}else{if(_ns==true&&_ns6==false){appletHTML+="<embed \n";appletHTML+="    style='"+appletStyle+"'";appletHTML+="    type = 'application/x-java-applet;version=1.6' \n";appletHTML+="	   code = '"+classFile+"' \n";appletHTML+="	   archive = '"+jarURL+"' \n";appletHTML+="	   id = '"+appletName+"' \n";appletHTML+="	   mayscript = 'true' \n";for(var p in appletParams){appletHTML+="  "+p+"='"+appletParams[p]+"'\n";}appletHTML+="	   scriptable = true \n";appletHTML+="	   pluginspage = 'http://www.java.com/en/download/manual.jsp'>\n";appletHTML+="</embed>\n";}else{appletHTML+="<applet code='"+classFile+"'";appletHTML+=" archive='"+jarURL+"'";appletHTML+=" id='"+appletName+"'";appletHTML+=" mayscript='true'";appletHTML+=" style='"+appletStyle+"'>\n";appletHTML+="    <param name=code value='"+classFile+"' >\n";appletHTML+="    <param name=archive value='"+jarURL+"' >\n";appletHTML+="    <param name=id value='"+appletName+"' >\n";appletHTML+="    <param name=mayscript value='yes' >\n";appletHTML+="    <param name=type value='application/x-java-applet;version=1.6'>\n";appletHTML+="    <param name=scriptable value='true'>\n";for(var p in appletParams){appletHTML+="    <param name="+p+" value='"+appletParams[p]+"'>\n";}appletHTML+="</applet>\n";}}return appletHTML;}function FTPClient__checkInitialization(){if(!this._initStarted){throw"FTP client has not been initialized.  FTPClient.initialize() must be called.";}else{if(!this._initComplete){throw"FTP client has finished initializing.  Please wait for FTPClient.onInitialize() to be called.";}}}function FTPClient_isInitialized(){return this._initComplete;}function FTPClient_getAllLogLevels(){this._checkInitialization();var levels=this.applet.getAllLogLevels();for(var i=0;levels.length;i++){levels[i]=""+levels[i];}return levels;}function FTPClient_getLogLevel(){this._checkInitialization();return this.applet.getLogLevel();}function FTPClient_setLogLevel(level){this._checkInitialization();this.applet.setLogLevel(level);}function FTPClient_getConnectMode(){this._checkInitialization();return""+this.applet.getConnectMode();}function FTPClient_setConnectMode(mode){this._checkInitialization();try{this.applet.setConnectMode(mode);}catch(ex){throw"Invalid connection-mode - must be 'active' or 'passive'.";}}function FTPClient_getRetryCount(){this._checkInitialization();return this.applet.getRetryCount();}function FTPClient_setRetryCount(count){this._checkInitialization();this.applet.setRetryCount(count);}function FTPClient_getRetryDelay(){this._checkInitialization();return this.applet.getRetryDelay();}function FTPClient_setRetryDelay(delay){this._checkInitialization();this.applet.setRetryDelay(delay);}function FTPClient_getTransferType(){this._checkInitialization();return""+this.applet.getTransferType();}function FTPClient_setTransferType(type){this._checkInitialization();try{this.applet.setTransferType(type);}catch(ex){throw"Invalid connection-mode - must be 'ascii' or 'binary'.";}}function FTPClient_setTemplateURLs(localViewURL,localTextEditorURL,localHTMLEditorURL,remoteViewURL,remoteTextEditorURL,remoteHTMLEditorURL){this._checkInitialization();this.applet.setTemplateURLs(localViewURL,localTextEditorURL,localHTMLEditorURL,remoteViewURL,remoteTextEditorURL,remoteHTMLEditorURL);}function FTPClient_isViewCachingEnabled(){this._checkInitialization();return this.applet.isViewCachingEnabled();}function FTPClient_setViewCachingEnabled(enable){this._checkInitialization();this.applet.setViewCachingEnabled(enable);}function FTPClient_isRemoteHostValid(hostName){try{if(hostName===undefined||hostName===null){hostName=this.remoteHost;}new FTPEndPoint(hostName);return true;}catch(e){return false;}}function FTPClient_alert(message){this._checkInitialization();return this.applet.alert(message);}function FTPClient_ask(message,callbackFunction,tag,button1Text,button2Text,button3Text){this._checkInitialization();if(typeof(callbackFunction)=="function"){callbackFunction=""+callbackFunction;callbackFunction=callbackFunction.substring(0,callbackFunction.indexOf("("));callbackFunction=callbackFunction.replace("function","");callbackFunction=callbackFunction.trim();}if(button1Text===undefined||button1Text===null){button1Text="OK";}if(button2Text===undefined||button2Text===null){button2Text="Cancel";}if(button3Text===undefined||button3Text===null){button3Text=null;}var taskID=this.applet.ask(message,callbackFunction,button1Text,button2Text,button3Text);this._setTag(taskID,tag);return taskID;}function FTPClient_promptFile(isOpen,callbackFunction,tag,title,directory,file){this._checkInitialization();if(typeof(callbackFunction)=="function"){callbackFunction=""+callbackFunction;callbackFunction=callbackFunction.substring(0,callbackFunction.indexOf("("));callbackFunction=callbackFunction.replace("function","");callbackFunction=callbackFunction.trim();}if(title===undefined||title===null){title="Please select a file";}if(directory===undefined){directory=null;}if(file===undefined){file=null;}var taskID=this.applet.promptFile(isOpen,title,directory,file,callbackFunction);this._setTag(taskID,tag);return taskID;}function FTPClient_promptFiles(callbackFunction,tag,title,directory){this._checkInitialization();if(typeof(callbackFunction)=="function"){callbackFunction=""+callbackFunction;callbackFunction=callbackFunction.substring(0,callbackFunction.indexOf("("));callbackFunction=callbackFunction.replace("function","");callbackFunction=callbackFunction.trim();}if(title===undefined||title===null){title="Please select one or more files";}if(directory===undefined){directory=null;}var taskID=this.applet.promptFiles(title,directory,callbackFunction);this._setTag(taskID,tag);return taskID;}function FTPClient_connect(tag){this._checkInitialization();if(this.protocol!=null){this.applet.setProtocol(this.protocol);}var endPoint=new FTPEndPoint(this.remoteHost);this.applet.setRemoteHost(endPoint.hostName);if(endPoint.portNumber!=null){this.applet.setRemotePort(endPoint.portNumber);}else{this.applet.setRemotePort(-1);}this.applet.setUserName(this.userName);this.applet.setPassword(this.password);if(this.initialRemoteDirectory!==null){this.applet.setInitialRemoteDirectory(this.initialRemoteDirectory);}this.applet.setTransferBufferSize(this.transferBufferSize);this.applet.setMinTransferNotifyPeriod(this.minTransferNotifyPeriod);try{if(this.dateLanguages!==null){this.applet.setDateLanguages(this.dateLanguages);}}catch(e1){throw (e1.message!==undefined)?e1.message:e2;}try{var taskID=this.applet.connectAsync("FTPClient_onConnect");if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}catch(e2){throw (e2.message!==undefined)?e2.message:e2;}}function FTPClient_isConnected(){return this._isConnected;}function FTPClient_disconnect(tag){this._checkInitialization();var taskID=this.applet.disconnectAsync("FTPClient_onDisconnect");if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_changeDirectory(directory,tag){this._checkInitialization();var taskID=this.applet.changeDirectoryAsync("FTPClient_onChangeDirectory",directory);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_createDirectory(directory,tag){this._checkInitialization();var taskID=this.applet.createDirectoryAsync("FTPClient_onCreateDirectory",directory);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_directoryList(directory,tag){this._checkInitialization();if(directory===undefined||directory===null||directory==""){directory="";}var taskID=this.applet.directoryListAsync(directory,"FTPClient_onDirectoryList");if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_downloadFile(localFileName,remoteFileName,writeMode,tag){this._checkInitialization();if(writeMode===undefined){writeMode=0;}var taskID=this.applet.downloadFileAsync("FTPClient_onDownloadFile","FTPClient_onTransferProgress",localFileName,remoteFileName,writeMode);window.console.log(taskID);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_downloadText(remoteFileName,tag){this._checkInitialization();var taskID=this.applet.downloadTextAsync("FTPClient_onDownloadText",remoteFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_uploadFile(localFileName,remoteFileName,writeMode,tag){this._checkInitialization();if(writeMode===undefined){writeMode=0;}var taskID=this.applet.uploadFileAsync("FTPClient_onUploadFile","FTPClient_onTransferProgress",localFileName,remoteFileName,writeMode);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_uploadText(text,remoteFileName,tag){this._checkInitialization();var taskID=this.applet.uploadTextAsync("FTPClient_onUploadText",text,remoteFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_cancelTransfer(transferID){this._checkInitialization();this.applet.cancelTransferAsync(transferID);}function FTPClient_size(remoteFileName,tag){this._checkInitialization();var taskID=this.applet.getSizeAsync("FTPClient_onSize",remoteFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_modifiedTime(remoteFileName,tag){this._checkInitialization();var taskID=this.applet.getModifiedTimeAsync("FTPClient_onModifiedTime",remoteFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_deleteFile(remoteFileName,tag){this._checkInitialization();var taskID=this.applet.deleteFileAsync("FTPClient_onDeleteFile",remoteFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_deleteDirectory(remoteDirectoryName,tag){this._checkInitialization();var taskID=this.applet.deleteDirectoryAsync("FTPClient_onDeleteDirectory",remoteDirectoryName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_rename(fromFileName,toFileName,tag){this._checkInitialization();var taskID=this.applet.renameAsync("FTPClient_onRename",fromFileName,toFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_exists(remoteFileName,tag){this._checkInitialization();var taskID=this.applet.existsAsync("FTPClient_onExists",remoteFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_executeCommand(command,tag){this._checkInitialization();var taskID=this.applet.executeCommand("FTPClient_onExecuteCommand",command);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_localDirectoryList(dirPath,tag){this._checkInitialization();var taskID=this.applet.localDirectoryListAsync("FTPClient_onLocalDirectoryList",dirPath);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_localDeleteFile(fileName,tag){this._checkInitialization();var taskID=this.applet.localDeleteAsync("FTPClient_onLocalDeleteFile",fileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_localRename(oldFileName,newFileName,tag){this._checkInitialization();var taskID=this.applet.localRenameAsync("FTPClient_onLocalRename",oldFileName,newFileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_localCreateDirectory(directoryName,tag){this._checkInitialization();var taskID=this.applet.localCreateDirectoryAsync("FTPClient_onLocalCreateDirectory",directoryName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_localSize(fileName,tag){this._checkInitialization();var taskID=this.applet.localSizeAsync("FTPClient_onLocalSize",fileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_localModifiedTime(fileName,tag){this._checkInitialization();var taskID=this.applet.localModifiedTimeAsync("FTPClient_onLocalModifiedTime",fileName);if(tag!==undefined&&tag!==null){this._setTag(taskID,tag);}return taskID;}function FTPClient_getLocalHomeDirectory(){this._checkInitialization();return""+this.applet.getLocalHomeDirectory();}function FTPClient_getLocalTempDirectory(){this._checkInitialization();return""+this.applet.getLocalTempDirectory();}function FTPClient_getLocalAcceptorPort(){this._checkInitialization();return this.applet.getLocalAcceptorPort();}function FTPClient_getRemoteAcceptorPort(){this._checkInitialization();return this.applet.getRemoteAcceptorPort();}function FTPClient_getWorkingDirectory(){this._checkInitialization();return""+this.applet.getWorkingDirectory();}function FTPClient_registerMimeType(extension,mimeType){this._checkInitialization();this.applet.registerMimeType(extension,mimeType);}function FTPClient__addHTML(doc,html){if(doc.all){doc.body.insertAdjacentHTML("beforeEnd",html);}else{if(doc.createRange){var range=doc.createRange();range.setStartAfter(doc.body.lastChild);var docFrag=range.createContextualFragment(html);doc.body.appendChild(docFrag);}else{if(doc.layers){var l=new Layer(1);l.doc.open();l.doc.write(html);l.doc.close();l.top=doc.height;doc.height+=l.doc.height;l.visibility="show";}}}}function FTPClient__setTag(taskID,tag){this._tags.push(new FTPTagItem(taskID,tag));}function FTPClient__getTag(taskID,remove){if(remove===undefined){remove=true;}var index=-1;for(var i in this._tags){if(this._tags[i].taskID===taskID){index=i;break;}}var tag=null;if(index>=0){tag=this._tags[index].tag;if(remove){this._tags.splice(index,1);}}return tag;}function FTPClient_onInitialize(clientName,taskID,errorMessage){if(errorMessage!=null){errorMessage='"'+errorMessage.replace('"','\\"')+'"';}else{errorMessage="null";}setTimeout("FTPClient_onInitializeDelayed('"+clientName+"', "+taskID+", "+errorMessage+")",1000);}function FTPClient_onInitializeDelayed(clientName,taskID,errorMessage){var ftpClient=_ftpClients[clientName];ftpClient.applet=document.getElementById(clientName);ftpClient._initComplete=true;setTimeout("FTPClient_hideApplet('"+clientName+"');",ftpClient.showSplash===true?2000:1);if(ftpClient.onInitialize!==null){ftpClient.onInitialize(new FTPCallbackStatus(ftpClient,errorMessage===null,errorMessage,taskID));}try{ftpClient.applet.setErrorCallback("FTPClient_onError");ftpClient.localSeparator=""+ftpClient.applet.getLocalSeparator();}catch(e){}}function FTPClient_hideApplet(clientName){_ftpClients[clientName].applet.style.width=0;_ftpClients[clientName].applet.style.height=0;}function FTPClient_onError(clientName,taskID,errorMessage){var ftpClient=_ftpClients[clientName];if(ftpClient.onError!==null){ftpClient.onError(new FTPCallbackStatus(ftpClient,errorMessage===null,errorMessage,taskID,ftpClient._getTag(taskID)));}}function FTPClient_onConnect(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onConnect!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);if(asyncResult!=null){ftpClient._isConnected=asyncResult.isSuccessful();ftpClient.onConnect(FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID)));}}}function FTPClient_onDisconnect(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onDisconnect!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);ftpClient._isConnected=false;var reasonCode=asyncResult.getReason();var reasonMessage;switch(reasonCode){case 0:reasonMessage="Normal disconnection.";break;case 1:reasonMessage="Inactive for too long.";break;case 2:reasonMessage="Lost connection.";break;default:reasonMessage="Unknown cause.";break;}ftpClient.onDisconnect(FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID)),reasonCode,reasonMessage);}}function FTPClient_onChangeDirectory(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onChangeDirectory!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var remoteDirectory=status.success?(""+asyncResult.getRemoteDirectory()):(""+asyncResult.getDirectory());ftpClient.onChangeDirectory(status,remoteDirectory);}}function FTPClient_onCreateDirectory(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onCreateDirectory!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var remoteDirectory=status.success?(""+asyncResult.getRemoteDirectory()):(""+asyncResult.getDirectory());ftpClient.onCreateDirectory(status,remoteDirectory);}}function FTPClient_onDirectoryList(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onDirectoryList!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(!status.success){ftpClient.onDirectoryList(status,null,null);}else{var dirPath=(""+asyncResult.getDirectory());var fileList=new FTPFileList();var files=eval(""+asyncResult.getListingAsJavascript());for(var f in files){var file=files[f];if(file.name!=="."&&file.name!==".."){var fileDate=new Date();fileDate.setFromJavaDateString(file.modifiedDate);fileList.add(file.path,file.name,file.size,fileDate,file.isDirectory,file.isTextFile);}}if(dirPath!="/"){fileList.insert(0,null,"..",0,null,true,false);}FTPClient_sortColumn=ftpClient.remoteSortColumn;FTPClient_sortAscending=ftpClient.remoteSortAscending;fileList.files.sort(FTPClient_compareFiles);ftpClient.onDirectoryList(status,dirPath,fileList);}}}function FTPClient_onTransferProgress(clientName,taskID,progressID,count){var ftpClient=_ftpClients[clientName];if(ftpClient.onTransferProgress!==null){var asyncResult=ftpClient.applet.getAsyncResult(progressID);if(asyncResult!=null){var status=new FTPCallbackStatus(ftpClient,true,null,taskID,ftpClient._getTag(taskID,false));var remoteFileName=(""+asyncResult.getRemoteFileName());ftpClient.onTransferProgress(status,remoteFileName,count);}}}function FTPClient_onDownloadFile(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onDownloadFile!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var remoteFileName=status.success?(""+asyncResult.getRemoteFileName()):null;ftpClient.onDownloadFile(status,remoteFileName);}}function FTPClient_onDownloadText(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onDownloadText!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var remoteFileName=status.success?(""+asyncResult.getRemoteFileName()):null;var text=status.success?(""+asyncResult.getText()):null;ftpClient.onDownloadText(status,remoteFileName,text);}}function FTPClient_onUploadFile(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onUploadFile!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var remoteFileName=status.success?(""+asyncResult.getRemoteFileName()):null;ftpClient.onUploadFile(status,remoteFileName);}}function FTPClient_onUploadText(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onUploadText!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var remoteFileName=status.success?(""+asyncResult.getRemoteFileName()):null;ftpClient.onUploadText(status,remoteFileName);}}function FTPClient_onSize(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onSize!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var fileName=status.success?(""+asyncResult.getRemoteFileName()):null;var size=status.success?asyncResult.getSize():null;ftpClient.onSize(status,fileName,size);}}function FTPClient_onModifiedTime(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onModifiedTime!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var fileName=status.success?(""+asyncResult.getRemoteFileName()):null;var modTime=status.success?asyncResult.getModifiedTime():null;ftpClient.onModifiedTime(status,fileName,modTime);}}function FTPClient_onDeleteFile(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onDeleteFile!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var fileName=(""+asyncResult.getRemoteFileName());var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));ftpClient.onDeleteFile(status,fileName);}}function FTPClient_onDeleteDirectory(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onDeleteDirectory!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var dirName=(""+asyncResult.getRemoteDirectory());var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));ftpClient.onDeleteDirectory(status,dirName);}}function FTPClient_onRename(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onRename!==null){var fromName=null;var toName=null;var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(status.success){fromName=(""+asyncResult.getFromFileName());toName=(""+asyncResult.getToFileName());}ftpClient.onRename(status,fromName,toName);}}function FTPClient_onExists(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onExists!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var fileName=status.success?(""+asyncResult.getRemoteFileName()):null;var exists=status.success?asyncResult.exists():null;ftpClient.onExists(status,fileName,exists);}}function FTPClient_onExecuteCommand(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onExists!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));var command=status.success?(""+asyncResult.getCommand()):null;var result=status.success?(""+asyncResult.getResult()):null;ftpClient.onExecuteCommand(status,command,result);}}function FTPClient_onLocalDirectoryList(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onLocalDirectoryList!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(!status.success){ftpClient.onLocalDirectoryList(status,null,null);}else{var files=eval(""+asyncResult.getListingAsJavascript());var isRoot=false;var dirPath=(""+asyncResult.getDirectory());if(dirPath.length===0){isRoot=true;}var fileList=new FTPFileList();if(!isRoot){var parentDir=dirPath.substring(0,dirPath.length-1);parentDir=parentDir.substring(0,parentDir.lastIndexOf(ftpClient.localSeparator)+1);if(this.localSeparator=="/"&&parentDir==""){parentDir="/";}fileList.add(parentDir,"..",0,null,true,false);}for(var f in files){var file=files[f];var fileDate=new Date();fileDate.setFromJavaDateString(file.modifiedDate);fileList.add(file.path,file.name,file.size,fileDate,isRoot||file.isDirectory,!file.isDirectory&&file.isTextFile);}FTPClient_sortColumn=ftpClient.localSortColumn;FTPClient_sortAscending=ftpClient.localSortAscending;fileList.files.sort(FTPClient_compareFiles);ftpClient.onLocalDirectoryList(status,dirPath,fileList);}}}function FTPClient_onLocalRename(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onLocalRename!==null){var fromName=null;var toName=null;var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(status.success){fromName=(""+asyncResult.getFromFileName());toName=(""+asyncResult.getToFileName());}ftpClient.onLocalRename(status,fromName,toName);}}function FTPClient_onLocalDeleteFile(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onLocalDeleteFile!==null){var asyncResult=ftpClient.applet.getAsyncResult(taskID);var fileName=(""+asyncResult.getFileName());var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));ftpClient.onLocalDeleteFile(status,fileName);}}function FTPClient_onLocalSize(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onLocalSize!==null){var size=-1;var fileName=null;var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(status.success){size=asyncResult.getSize();fileName=(""+asyncResult.getFileName());}ftpClient.onLocalSize(status,fileName,size);}}function FTPClient_onLocalModifiedTime(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onLocalModifiedTime!==null){var modifiedTime=null;var fileName=null;var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(status.success){modifiedTime=new Date();modifiedTime.setFromJavaDate(asyncResult.getModifiedTime());fileName=(""+asyncResult.getFileName());}ftpClient.onLocalModifiedTime(status,fileName,modifiedTime);}}function FTPClient_onLocalCreateDirectory(clientName,taskID){var ftpClient=_ftpClients[clientName];if(ftpClient.onLocalCreateDirectory!==null){var directoryPath=null;var asyncResult=ftpClient.applet.getAsyncResult(taskID);var status=FTPClient_createStatus(ftpClient,asyncResult,taskID,ftpClient._getTag(taskID));if(status.success){directoryPath=asyncResult.getDirectoryPath();}ftpClient.onLocalCreateDirectory(status,directoryPath);}}function FTPClient_onDialogResult(clientName,taskID){var ftpClient=_ftpClients[clientName];var asyncResult=ftpClient.applet.getAsyncResult(taskID);var callbackMethod=asyncResult.getCallbackMethod();var callbackMethodString=""+callbackMethod;var asyncResultString=""+asyncResult;if(callbackMethod!==null&&callbackMethod!==undefined&&callbackMethodString!="null"&&callbackMethodString!="undefined"&&callbackMethodString!=""){var tag=ftpClient._getTag(taskID);var callback=eval(""+callbackMethod);if(asyncResultString.indexOf("MessageBox",0)>=0){var message=asyncResult.getMessage();var button1Text=asyncResult.getButton1Text();var button2Text=asyncResult.getButton2Text();var button3Text=asyncResult.getButton3Text();var response=asyncResult.getResponse();callback(new FTPAskResponse(message,button1Text,button2Text,button3Text,response),tag);}else{if(asyncResultString.indexOf("FilePrompt",0)>=0){var files=new Array();if(asyncResult.isMultiSelect()){for(var i=0;i<asyncResult.getFiles().length;i++){files[i]=""+asyncResult.getFiles()[i];}}else{files[0]=""+asyncResult.getFile();}callback(new FTPPromptFileResponse(ftpClient,files),tag);}}}}function FTPClient_compareFiles(file1,file2){var result=0;if(file1.isDirectory&&!file2.isDirectory){result=-1;}else{if(!file1.isDirectory&&file2.isDirectory){result=1;}else{if(FTPClient_sortColumn=="size"){result=file1.size-file2.size;}if(FTPClient_sortColumn=="date"){if(file1.modifiedDate===null&&file2.modifiedDate!==null){result=-1;}else{if(file1.modifiedDate!==null&&file2.modifiedDate===null){result=1;}else{if(file1.modifiedDate!==null&&file2.modifiedDate!==null){result=file1.modifiedDate.getTime()-file2.modifiedDate.getTime();}}}}if(result===0){var name1=file1.name.toLowerCase();var name2=file2.name.toLowerCase();result=name1>name2?1:(name1<name2?-1:0);}}}if(FTPClient_sortAscending){return result;}else{return result*-1;}}function FTPCallbackStatus(ftpClient,success,errorMessage,taskID,tag){this.ftpClient=ftpClient;this.success=success;this.errorMessage=errorMessage!==null?(""+errorMessage):null;this.taskID=Number(taskID);this.tag=tag;}function FTPClient_createStatus(ftpClient,asyncResult,taskID,tag){if(asyncResult===null){return new FTPCallbackStatus(ftpClient,false,"Internal Error: No result available.",taskID,tag);}var success=asyncResult.isSuccessful();var exception=asyncResult.getThrowable();var errorMessage=exception!==undefined&&exception!==null?exception.getMessage():null;return new FTPCallbackStatus(ftpClient,success,errorMessage,taskID,tag);}function FTPAskResponse(message,button1Text,button2Text,button3Text,response){this.message=message;this.button1Text=button1Text;this.button2Text=button2Text;this.button3Text=button3Text;this.response=response;}function FTPPromptFileResponse(ftpClient,files){this.ftpClient=ftpClient;this.file=files!=null&&files.length>0?files[0]:null;this.files=files;}FTPFileSize_byteUnits=["B","KB","MB","GB","TB","PB","EB","ZB"];function FTPFileSize(numBytes){this.numBytes=numBytes;this.units=FTPFileSize_byteUnits[0];this.numberString="";var number=numBytes;var m=1;while(number>=1024&&m<FTPFileSize_byteUnits.length){number=Math.floor(number/1024);this.units=FTPFileSize_byteUnits[m++];}number=""+number;for(var i=0;i<number.length;i++){this.numberString=this.numberString+number.charAt(i);if(i<number.length-1&&(number.length-i-1)%3===0){this.numberString=this.numberString+",";}}}function FTPRenderer(document){this.document=document;this.showSeconds=true;}FTPRenderer.prototype.renderFileList=FTPRenderer_renderFileList;FTPRenderer.prototype.renderNameHeading=FTPRenderer_renderNameHeading;FTPRenderer.prototype.renderSizeHeading=FTPRenderer_renderSizeHeading;FTPRenderer.prototype.renderDateHeading=FTPRenderer_renderDateHeading;FTPRenderer.prototype.renderFile=FTPRenderer_renderFile;FTPRenderer.prototype.renderFileName=FTPRenderer_renderFileName;FTPRenderer.prototype.renderFileSize=FTPRenderer_renderFileSize;FTPRenderer.prototype.renderFileDate=FTPRenderer_renderFileDate;FTPRenderer.prototype.renderDirectory=FTPRenderer_renderDirectory;FTPRenderer.prototype.renderDirectoryName=FTPRenderer_renderDirectoryName;FTPRenderer.prototype.renderDirectoryDate=FTPRenderer_renderDirectoryDate;FTPRenderer.prototype.renderNameFooter=FTPRenderer_renderNameFooter;FTPRenderer.prototype.renderSizeFooter=FTPRenderer_renderSizeFooter;FTPRenderer.prototype.renderDateFooter=FTPRenderer_renderDateFooter;function FTPRenderer_renderFileList(fileList){this.document.writeln("<table class='ftpList'>");this.document.write("<tr>");this.renderNameHeading();this.renderSizeHeading();this.renderDateHeading();this.document.writeln("</tr>");for(var i=0;i<fileList.files.length;i++){var file=fileList.files[i];if(file.isDirectory){this.renderDirectory(file);}else{this.renderFile(file);}}this.document.write("<tr>");this.renderNameFooter();this.renderSizeFooter();this.renderDateFooter();this.document.writeln("</tr>");this.document.writeln("</table>");}function FTPRenderer_renderNameHeading(){this.document.write("<th class='ftpHead ftpNameHead'>Name</th>");}function FTPRenderer_renderSizeHeading(){this.document.write("<th class='ftpHead ftpSizeHead' colspan='2'>Size</th>");}function FTPRenderer_renderDateHeading(){this.document.write("<th class='ftpHead ftpDateHead'>Date</th>");}function FTPRenderer_renderFile(file){this.document.writeln("<tr>");this.renderFileName(file.name,file.path,file.isTextFile);this.renderFileSize(new FTPFileSize(file.size));this.renderFileDate(file.modifiedDate);this.document.writeln("</tr>");}function FTPRenderer_renderFileName(fileName,filePath,isTextFile){this.document.writeln("<td class='ftpFile ftpName'>"+fileName+"</td>");}function FTPRenderer_renderFileSize(fileSize){this.document.writeln("<td class='ftpFile ftpSizeNumber'>"+fileSize.numberString+"</td>");this.document.writeln("<td class='ftpFile ftpSizeUnits'>"+fileSize.units+"</td>");}function FTPRenderer_renderFileDate(fileDate){this.document.write("<td class='ftpFile ftpDate'>"+fileDate.toFTPString(this.showSeconds)+"</td>");}function FTPRenderer_renderDirectory(directory){this.document.writeln("<tr>");this.renderDirectoryName(directory.name,directory.path);this.document.writeln("<td class='ftpFile ftpSizeNumber'></td>");this.document.writeln("<td class='ftpFile ftpSizeUnits'></td>");this.renderDirectoryDate(directory.modifiedDate);this.document.writeln("</tr>");}function FTPRenderer_renderDirectoryName(directoryName,directoryPath){this.document.writeln("<td class='ftpFile ftpName'>"+directoryName+"</td>");}function FTPRenderer_renderDirectoryDate(directoryDate){this.document.write("<td class='ftpFile ftpDate'>");if(directoryDate!==null){this.document.write(directoryDate.toFTPString(this.showSeconds));}this.document.writeln("</td>");}function FTPRenderer_renderNameFooter(){this.document.write("<td class='ftpFooter ftpNameFooter'>&nbsp;</td>");}function FTPRenderer_renderSizeFooter(){this.document.write("<td class='ftpFooter ftpSizeFooter' colspan='2'>&nbsp;</td>");}function FTPRenderer_renderDateFooter(){this.document.write("<td class='ftpFooter ftpDateFooter'>&nbsp;</td>");}function FTPFile(filePath,fileName,size,modifiedDate,isDirectory,isTextFile){this.path=filePath!==null?(""+filePath):null;this.name=fileName!==null?(""+fileName):null;this.size=size;this.modifiedDate=modifiedDate;this.isDirectory=(isDirectory===true);this.isTextFile=isTextFile;}function FTPEndPoint(text){text=text.trim();if(text.length===0){throw"No server address supplied.";}var invalidMessage="Invalid server address: must be of the form 'address[:port]'";var tokens=text.split(":");if(tokens.length>2){throw invalidMessage;}var port=tokens.length>1?parseInt(tokens[1]):null;this.hostName=tokens[0];this.portNumber=port!==NaN?port:null;}function FTPFileList(){this.files=[];this.add=function(path,name,size,date,isDirectory,isTextFile){var file=new FTPFile(path,name,size,date,isDirectory,isTextFile);this.files.push(file);};this.insert=function(index,path,name,size,date,isDirectory,isTextFile){var file=new FTPFile(path,name,size,date,isDirectory,isTextFile);this.files.splice(0,0,file);};this.containsFilePath=function(path){for(file in this.files){if(this.files[i].path==path){return true;}}return false;};this.containsFileName=function(name){return this.findByFileName(name)!==null;};this.findByFileName=function(name){for(i in this.files){if(this.files[i].name==name){return this.files[i];}}return null;};}function FTPTagItem(taskID,tag){this.taskID=taskID;this.tag=tag;}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"");};String.prototype.startsWith=function(sub){return sub!==null&&this.substring(0,sub.length)===sub;};Date.prototype.toFTPString=function(showSeconds){var dateString=this.getFullYear()+"-"+this._pad(this.getMonth()+1,"0",2,true)+"-"+this._pad(this.getDate(),"0",2,true)+" "+this._pad(this.getHours(),"0",2,true)+":"+this._pad(this.getMinutes(),"0",2,true);if(showSeconds){dateString=dateString+":"+this._pad(this.getSeconds(),"0",2,true);}return dateString;};Date.prototype.setFromJavaDateString=function(javaDateString){this.setTime(Date.parse(javaDateString));};Date.prototype.setFromJavaDate=function(javaDate){this.setFromJavaDateString(javaDate.toGMTString());};Date.prototype._pad=function(obj,padChar,width,padLeft){var text=(""+obj);for(var i=text.length;i<width;i++){text=padLeft?padChar+text:text+padChar;}return text;};